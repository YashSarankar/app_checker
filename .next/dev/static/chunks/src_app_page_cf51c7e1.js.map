{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yashs/development/app_checker/src/app/page.js"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\nimport { Search, Plus, TrendingUp, BarChart2, Loader2, Play, Info, Hash } from 'lucide-react'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\n\r\nexport default function AppRankChecker() {\r\n    const [searchTerm, setSearchTerm] = useState('')\r\n    const [searchResults, setSearchResults] = useState([])\r\n    const [selectedApp, setSelectedApp] = useState(null)\r\n    const [keyword, setKeyword] = useState('')\r\n    const [isSearching, setIsSearching] = useState(false)\r\n    const [isCheckingRank, setIsCheckingRank] = useState(false)\r\n    const [rankResult, setRankResult] = useState(null)\r\n\r\n    const handleSearch = async (e) => {\r\n        const term = e.target.value\r\n        setSearchTerm(term)\r\n        if (term.length < 3) {\r\n            setSearchResults([])\r\n            return\r\n        }\r\n\r\n        setIsSearching(true)\r\n        try {\r\n            const { data } = await axios.get(`/api/apps/search?term=${term}`)\r\n            setSearchResults(data)\r\n        } catch (error) {\r\n            console.error('Search failed')\r\n        } finally {\r\n            setIsSearching(false)\r\n        }\r\n    }\r\n\r\n    const checkRank = async (e) => {\r\n        if (e) e.preventDefault()\r\n        if (!selectedApp || !keyword.trim()) return\r\n\r\n        setIsCheckingRank(true)\r\n        setRankResult(null)\r\n        try {\r\n            const { data } = await axios.post('/api/keywords', {\r\n                appId: selectedApp.appId,\r\n                term: keyword.trim()\r\n            })\r\n            setRankResult(data)\r\n        } catch (error) {\r\n            console.error('Failed to check rank')\r\n        } finally {\r\n            setIsCheckingRank(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-12\">\r\n            {/* App Selection Section */}\r\n            <section className=\"space-y-6\">\r\n                <div className=\"space-y-2\">\r\n                    <h2 className=\"text-3xl font-extrabold tracking-tight\">1. Find your App</h2>\r\n                    <p className=\"text-slate-400\">Search for the app you want to check rankings for.</p>\r\n                </div>\r\n\r\n                <div className=\"relative\">\r\n                    <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5\" />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search Apple Play Store (e.g. WhatsApp, Instagram)...\"\r\n                        className=\"w-full bg-slate-900/50 border border-slate-700 rounded-3xl py-5 pl-12 pr-4 focus:ring-2 focus:ring-primary outline-none transition-all text-lg shadow-xl\"\r\n                        value={searchTerm}\r\n                        onChange={handleSearch}\r\n                    />\r\n                    {isSearching && (\r\n                        <div className=\"absolute right-4 top-1/2 -translate-y-1/2\">\r\n                            <Loader2 className=\"w-6 h-6 animate-spin text-primary\" />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Search Results */}\r\n                <AnimatePresence>\r\n                    {searchResults.length > 0 && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, scale: 0.95 }}\r\n                            animate={{ opacity: 1, scale: 1 }}\r\n                            exit={{ opacity: 0, scale: 0.95 }}\r\n                            className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\"\r\n                        >\r\n                            {searchResults.map((app) => (\r\n                                <motion.div\r\n                                    key={app.appId}\r\n                                    whileHover={{ scale: 1.02 }}\r\n                                    whileTap={{ scale: 0.98 }}\r\n                                    onClick={() => {\r\n                                        setSelectedApp(app)\r\n                                        setSearchResults([])\r\n                                        setSearchTerm('')\r\n                                    }}\r\n                                    className={`glass-card flex items-center gap-4 cursor-pointer border-2 ${selectedApp?.appId === app.appId ? 'border-primary bg-primary/10' : 'border-transparent'}`}\r\n                                >\r\n                                    <img src={app.icon} alt={app.title} className=\"w-14 h-14 rounded-2xl shadow-lg\" />\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <h3 className=\"font-bold truncate\">{app.title}</h3>\r\n                                        <p className=\"text-sm text-slate-400 truncate\">{app.developer}</p>\r\n                                    </div>\r\n                                </motion.div>\r\n                            ))}\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </section>\r\n\r\n            {/* Selected App & Keyword Input */}\r\n            {selectedApp && (\r\n                <motion.section\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    className=\"space-y-8\"\r\n                >\r\n                    <div className=\"flex flex-col md:flex-row items-center gap-6 p-6 bg-primary/5 border border-primary/20 rounded-3xl\">\r\n                        <img src={selectedApp.icon} className=\"w-24 h-24 rounded-3xl shadow-2xl border-4 border-slate-800\" />\r\n                        <div className=\"text-center md:text-left\">\r\n                            <h2 className=\"text-2xl font-bold\">{selectedApp.title}</h2>\r\n                            <p className=\"text-slate-400\">{selectedApp.developer}</p>\r\n                            <button\r\n                                onClick={() => setSelectedApp(null)}\r\n                                className=\"text-xs text-primary underline mt-2 hover:text-white\"\r\n                            >\r\n                                Change App\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <h2 className=\"text-3xl font-extrabold tracking-tight\">2. Enter Keyword</h2>\r\n                            <p className=\"text-slate-400\">Discover where this app ranks for a specific term.</p>\r\n                        </div>\r\n\r\n                        <form onSubmit={checkRank} className=\"flex flex-col sm:flex-row gap-4\">\r\n                            <div className=\"relative flex-1\">\r\n                                <Hash className=\"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5\" />\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"e.g. food delivery, fitness tracker...\"\r\n                                    className=\"w-full bg-slate-900/80 border border-slate-700 rounded-2xl py-4 pl-12 pr-4 focus:ring-2 focus:ring-secondary outline-none transition-all text-lg\"\r\n                                    value={keyword}\r\n                                    onChange={(e) => setKeyword(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={isCheckingRank || !keyword.trim()}\r\n                                className=\"bg-gradient-to-r from-primary to-secondary hover:shadow-[0_0_20px_rgba(99,102,241,0.4)] text-white px-8 py-4 rounded-2xl font-bold transition-all disabled:opacity-50 flex items-center justify-center gap-2 text-lg\"\r\n                            >\r\n                                {isCheckingRank ? (\r\n                                    <>\r\n                                        <Loader2 className=\"w-6 h-6 animate-spin\" />\r\n                                        Checking Top 250...\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <Play className=\"w-6 h-6 fill-current\" />\r\n                                        Check Rank\r\n                                    </>\r\n                                )}\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </motion.section>\r\n            )}\r\n\r\n            {/* Rank Result Display */}\r\n            <AnimatePresence>\r\n                {rankResult && (\r\n                    <motion.section\r\n                        initial={{ opacity: 0, scale: 0.9 }}\r\n                        animate={{ opacity: 1, scale: 1 }}\r\n                        className=\"flex justify-center pt-8\"\r\n                    >\r\n                        <div className=\"glass-card w-full max-w-sm text-center py-12 space-y-4 relative overflow-hidden group\">\r\n                            <div className=\"absolute inset-0 bg-gradient-to-br from-primary/10 to-secondary/10 opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                            <div className=\"relative z-10\">\r\n                                <p className=\"text-slate-400 font-bold uppercase tracking-widest text-sm\">Keyword: \"{rankResult.term}\"</p>\r\n                                <div className=\"text-8xl font-black bg-gradient-to-b from-white to-slate-500 bg-clip-text text-transparent py-4\">\r\n                                    {rankResult.position === '250+' ? 'Oops' : `#${rankResult.position}`}\r\n                                </div>\r\n                                <p className=\"text-xl font-medium text-slate-300\">\r\n                                    {rankResult.position === '250+'\r\n                                        ? \"Not found in Top 250\"\r\n                                        : \"Current Ranking Position\"}\r\n                                </p>\r\n                                <div className=\"flex items-center justify-center gap-2 mt-6 text-slate-500 text-xs\">\r\n                                    <Info className=\"w-4 h-4\" />\r\n                                    Live search across Google Play results\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </motion.section>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}